<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" type="image/x-icon" href="/media/dog.svg">
    <title>Ch√∫c M·ª´ng 20/10</title>
    <style>
      @import url("https://fonts.googleapis.com/css2?family=Borel&display=swap");

      :root {
        --envelope-width: 80vmin;
        --envelope-height: 48vmin;
      }

      body {
        font-family: "Borel", cursive;
        margin: 0;
      }

      .page-wrapper {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        overflow: hidden;
        background: linear-gradient(120deg, #c9e9ff, #a4d4ff);
      }

      .envelope-wrapper {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 100;
        cursor: pointer;
        transition: opacity 0.8s 0.7s;
      }

      .envelope {
        position: relative;
        width: var(--envelope-width);
        height: var(--envelope-height);
      }

      .back,
      .left-flap,
      .right-flap,
      .top-flap,
      .bottom-flap {
        position: absolute;
        width: 0;
        height: 0;
      }

      .back {
        width: var(--envelope-width);
        height: var(--envelope-height);
        background-color: #f8b6c1;
        z-index: 0;
      }

      .left-flap {
        left: 0;
        top: 0;
        z-index: 1;
        border-top: calc(var(--envelope-height) / 2) solid transparent;
        border-bottom: calc(var(--envelope-height) / 2) solid transparent;
        border-left: calc(var(--envelope-width) / 2) solid #f9c9d3;
      }

      .right-flap {
        right: 0;
        top: 0;
        z-index: 1;
        border-top: calc(var(--envelope-height) / 2) solid transparent;
        border-bottom: calc(var(--envelope-height) / 2) solid transparent;
        border-right: calc(var(--envelope-width) / 2) solid #f9c9d3;
      }

      .bottom-flap {
        bottom: 0;
        left: 0;
        z-index: 2;
        border-left: calc(var(--envelope-width) / 2) solid transparent;
        border-right: calc(var(--envelope-width) / 2) solid transparent;
        border-bottom: calc(var(--envelope-height) / 2) solid #fbdde3;
      }

      .top-flap {
        top: 0;
        left: 0;
        z-index: 3;
        border-left: calc(var(--envelope-width) / 2) solid transparent;
        border-right: calc(var(--envelope-width) / 2) solid transparent;
        border-top: calc(var(--envelope-height) / 2) solid #fce9ef;
        transform-origin: top center;
        transition: transform 0.7s ease-in-out;
      }

      .envelope-wrapper.open .top-flap {
        transform: rotateX(180deg);
      }
      .envelope-wrapper.open {
        opacity: 0;
        pointer-events: none;
      }

      .container {
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100%;
        opacity: 0;
        transition: opacity 1s 0.7s;
        padding: 2vmin;
        box-sizing: border-box;
      }

      .envelope-wrapper.open ~ .page-wrapper .container {
        opacity: 1;
      }

      .card {
        background-color: rgba(255, 255, 255, 0.9);
        padding: 5vmin;
        border-radius: 20px;
        box-shadow: 0 15px 35px rgba(0, 0, 0, 0.15);
        position: relative;
        z-index: 2;
        text-align: center;
        max-width: 90vw;
      }

      h1 {
        color: #c2185b;
        font-size: 3.5em;
        margin-bottom: 20px;
      }
      p {
        color: #444;
        font-size: 1.5em;
        max-width: 600px;
        margin: 0 auto;
        line-height: 1.6;
        text-align: justify;
      }

      .heart {
        position: absolute;
        top: 0;
        background-color: #e91e63;
        transform: rotate(-45deg);
        animation: fall 10s linear infinite;
        pointer-events: none;
      }
      .heart::before,
      .heart::after {
        content: "";
        position: absolute;
        background-color: #e91e63;
        border-radius: 50%;
        width: 100%;
        height: 100%;
      }
      .heart::before {
        top: -50%;
        left: 0;
      }
      .heart::after {
        top: 0;
        left: 50%;
      }

      @keyframes fall {
        0% {
          transform: translateY(-10vh) rotate(-45deg);
        }
        80% {
          opacity: inherit;
        }
        100% {
          transform: translateY(110vh) translateX(var(--sway)) rotate(-45deg);
          opacity: 0;
        }
      }

      #volume-control {
        position: fixed;
        top: 20px;
        right: 20px;
        z-index: 200;
        cursor: pointer;
        width: 32px;
        height: 32px;
        opacity: 0;
        transition: opacity 0.5s;
      }
      #volume-control.visible {
        opacity: 0.7;
      }
      #volume-control:hover {
        opacity: 1;
      }
      #volume-control .volume-icon {
        width: 100%;
        height: 100%;
        fill: #444;
      }
      #volume-control .volume-off-icon {
        display: none;
      }
      #volume-control.muted .volume-on-icon {
        display: none;
      }
      #volume-control.muted .volume-off-icon {
        display: block;
      }

      @media (max-width: 768px) {
        :root {
          --envelope-width: 90vmin;
          --envelope-height: 54vmin;
        }
        h1 {
          font-size: 2em;
        }
        p {
          font-size: 1.1em;
        }
      }
    </style>
  </head>
  <body>
    <audio
      id="background-music"
      src="media/Âøò„Çå„ÇãÂâç„Å´ - Vaundy.mp3"
      loop
    ></audio>

    <div class="envelope-wrapper">
      <div class="envelope">
        <div class="back"></div>
        <div class="left-flap"></div>
        <div class="right-flap"></div>
        <div class="bottom-flap"></div>
        <div class="top-flap"></div>
      </div>
    </div>

    <div class="page-wrapper">
      <div id="volume-control">
        <svg class="volume-icon volume-on-icon" viewBox="0 0 24 24">
          <path
            d="M14,3.23V5.29C16.89,6.15 19,8.83 19,12C19,15.17 16.89,17.84 14,18.7V20.77C18,19.86 21,16.28 21,12C21,7.72 18,4.14 14,3.23M16.5,12C16.5,10.23 15.5,8.71 14,7.97V16C15.5,15.29 16.5,13.76 16.5,12M3,9V15H7L12,20V4L7,9H3Z"
          ></path>
        </svg>
        <svg class="volume-icon volume-off-icon" viewBox="0 0 24 24">
          <path
            d="M12,4L7,9H3V15H7L12,20V4M14,3.23V5.29C16.89,6.15 19,8.83 19,12C19,13.82 18.2,15.44 17,16.63L18.41,18.04C19.92,16.53 21,14.41 21,12C21,7.72 18,4.14 14,3.23M16.5,12C16.5,10.23 15.5,8.71 14,7.97V10.18L16.45,12.63C16.5,12.43 16.5,12.21 16.5,12M3.27,3L2,4.27L7.73,10H3V14H7.73L13,19.27V13.27L16.25,16.53C15.5,17.15 14.58,17.61 13.56,17.87L13,18.7V20.77C14.39,20.45 15.61,19.82 16.66,19L21.73,24L23,22.73L12.27,12L3.27,3Z"
          ></path>
        </svg>
      </div>

      <main class="container">
        <div class="card">
          <h1>Ch√∫c M·ª´ng Ng√†y 20/10</h1>
          <p>
            Nh√¢n ng√†y n√†y, ch√∫c em lu√¥n vui t∆∞∆°i xinh ƒë·∫πp, lu√¥n r·∫°ng r·ª°, lu√¥n
            t∆∞∆°i c∆∞·ªùi khi b√™n c·∫°nh anh. C·∫£m ∆°n em v√¨ ƒë√£ lu√¥n ·ªü b√™n, l·∫Øng nghe,
            chia s·∫ª v√† c·∫£m th√¥ng cho anh. Anh mong anh s·∫Ω m√£i ƒë∆∞·ª£c l√†m con ch√≥
            c·ªßa em üê∂
          </p>
        </div>
      </main>
    </div>

    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const envelope = document.querySelector(".envelope-wrapper");
        const pageWrapper = document.querySelector(".page-wrapper");
        const music = document.getElementById("background-music");
        const volumeBtn = document.getElementById("volume-control");

        envelope.addEventListener(
          "click",
          () => {
            envelope.classList.add("open");
            volumeBtn.classList.add("visible");

            if (music) {
              music.volume = 0.2;
              music.play();
            }

            setInterval(() => createHeart(pageWrapper), 250);
          },
          { once: true }
        );

        volumeBtn.addEventListener("click", () => {
          music.muted = !music.muted;
          volumeBtn.classList.toggle("muted", music.muted);
        });
      });

      function createHeart(container) {
        const heart = document.createElement("div");
        heart.classList.add("heart");
        container.appendChild(heart);
        const size = Math.random() * 20 + 10;
        const startX = Math.random() * 100;
        const duration = Math.random() * 5 + 8;
        const sway = (Math.random() - 0.5) * 200;
        heart.style.width = size + "px";
        heart.style.height = size + "px";
        heart.style.left = startX + "vw";
        heart.style.animationDuration = duration + "s";
        heart.style.opacity = Math.random() * 0.7 + 0.3;
        heart.style.setProperty("--sway", sway + "px");
        setTimeout(() => {
          heart.remove();
        }, duration * 1000);
      }
    </script>
  </body>
</html>
